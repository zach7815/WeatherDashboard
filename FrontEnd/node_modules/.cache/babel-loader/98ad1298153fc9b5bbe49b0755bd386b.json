{"ast":null,"code":"let getLocationPromise = () => {\n  return new Promise(function (resolve, reject) {\n    navigator.geolocation.getCurrentPosition(position => resolve(position), error => reject(error));\n  });\n};\n\nconst getLocationData = () => {\n  getLocationPromise().then(res => {\n    const {\n      coords\n    } = res;\n    return coords;\n  }).then(coords => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        lat: coords.latitude,\n        lng: coords.longitude\n      })\n    };\n    return requestOptions;\n  }).then(response => {\n    let result = fetch('/api/location', response);\n    return result;\n  }).then(response => {\n    return response.json();\n  }).then(res => console.log(res)).catch(error => {\n    console.log({\n      error: error.code,\n      message: error.message\n    });\n  });\n};\n\nexport default getLocationData;","map":{"version":3,"names":["getLocationPromise","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","error","getLocationData","then","res","coords","requestOptions","method","headers","body","JSON","stringify","lat","latitude","lng","longitude","response","result","fetch","json","console","log","catch","code","message"],"sources":["/Users/Zach/Desktop/WeatherD_v2/weatherdb/src/components/locationScripts.js"],"sourcesContent":["let getLocationPromise = ()=>{\n    return new Promise(function(resolve,reject){\n      navigator.geolocation.getCurrentPosition(\n        position=>resolve(position),\n        error=>reject(error)\n      )\n    })\n    }\n\n    const getLocationData=()=>{\n        getLocationPromise()\n      .then((res)=>{\n        const {coords} =res;\n        return coords;\n      })\n      .then( coords=>{\n    \n        const requestOptions = {\n          method:'POST',\n          headers:{\"Content-Type\": \"application/json\"},\n          body: JSON.stringify({lat:coords.latitude, lng:coords.longitude})\n         }\n            return requestOptions\n        }\n      ).then(response=>{\n        let result =fetch('/api/location',response);\n        return result;\n      }).then(\n        response=>{return response.json()})\n      .then(res=> console.log(res)\n      )\n      .catch((error)=>{\n        console.log({error:error.code, message:error.message});\n      })\n    }\n\n\nexport default getLocationData"],"mappings":"AAAA,IAAIA,kBAAkB,GAAG,MAAI;EACzB,OAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAiBC,MAAjB,EAAwB;IACzCC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACEC,QAAQ,IAAEL,OAAO,CAACK,QAAD,CADnB,EAEEC,KAAK,IAAEL,MAAM,CAACK,KAAD,CAFf;EAID,CALM,CAAP;AAMC,CAPL;;AASI,MAAMC,eAAe,GAAC,MAAI;EACtBT,kBAAkB,GACnBU,IADC,CACKC,GAAD,IAAO;IACX,MAAM;MAACC;IAAD,IAAUD,GAAhB;IACA,OAAOC,MAAP;EACD,CAJC,EAKDF,IALC,CAKKE,MAAM,IAAE;IAEb,MAAMC,cAAc,GAAG;MACrBC,MAAM,EAAC,MADc;MAErBC,OAAO,EAAC;QAAC,gBAAgB;MAAjB,CAFa;MAGrBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACC,GAAG,EAACP,MAAM,CAACQ,QAAZ;QAAsBC,GAAG,EAACT,MAAM,CAACU;MAAjC,CAAf;IAHe,CAAvB;IAKI,OAAOT,cAAP;EACH,CAbD,EAcAH,IAdA,CAcKa,QAAQ,IAAE;IACf,IAAIC,MAAM,GAAEC,KAAK,CAAC,eAAD,EAAiBF,QAAjB,CAAjB;IACA,OAAOC,MAAP;EACD,CAjBC,EAiBCd,IAjBD,CAkBAa,QAAQ,IAAE;IAAC,OAAOA,QAAQ,CAACG,IAAT,EAAP;EAAuB,CAlBlC,EAmBDhB,IAnBC,CAmBIC,GAAG,IAAGgB,OAAO,CAACC,GAAR,CAAYjB,GAAZ,CAnBV,EAqBDkB,KArBC,CAqBMrB,KAAD,IAAS;IACdmB,OAAO,CAACC,GAAR,CAAY;MAACpB,KAAK,EAACA,KAAK,CAACsB,IAAb;MAAmBC,OAAO,EAACvB,KAAK,CAACuB;IAAjC,CAAZ;EACD,CAvBC;AAwBH,CAzBD;;AA4BJ,eAAetB,eAAf"},"metadata":{},"sourceType":"module"}