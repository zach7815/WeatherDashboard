{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Zach/Desktop/WeatherD_v2/weatherdb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Zach/Desktop/WeatherD_v2/weatherdb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Zach/Desktop/WeatherD_v2/weatherdb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMagnifyingGlass}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(_ref){var setWeatherData=_ref.setWeatherData,setForecastData=_ref.setForecastData,setImageData=_ref.setImageData;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var requestOptions,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();requestOptions={method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({city:query})};if(query){_context.next=6;break;}alert(\"please enter a city\");_context.next=19;break;case 6:_context.prev=6;_context.next=9;return fetch('/api/search',requestOptions);case 9:response=_context.sent;_context.next=12;return response.json();case 12:result=_context.sent;if(result[1]===null){alert(\"city not recognised, please enter a valid city\");}else{setImageData(result[0]);setWeatherData(result[1]);setForecastData(result[2]);}_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 19:setQuery(\"\");case 20:case\"end\":return _context.stop();}}},_callee,null,[[6,16]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"searchBarContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"searchInput\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"searchBar\",placeholder:\"Find Your City's Weather\",onChange:function onChange(e){return setQuery(e.target.value);},value:query}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"searchButton\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMagnifyingGlass})})]})});};/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-magnifying-glass\"});export default SearchBar;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faMagnifyingGlass","SearchBar","setWeatherData","setForecastData","setImageData","query","setQuery","handleSubmit","e","preventDefault","requestOptions","method","headers","body","JSON","stringify","city","alert","fetch","response","json","result","console","log","target","value"],"sources":["/Users/Zach/Desktop/WeatherD_v2/weatherdb/src/components/SearchBar.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons'\n\n\n\nconst SearchBar = ({setWeatherData, setForecastData, setImageData})=>{\n    const [query, setQuery]= useState(\"\")\n\n    const  handleSubmit =  async (e)=>{\n        e.preventDefault();\n    \n        const requestOptions = {\n            method:'POST',\n           headers:{\"Content-Type\": \"application/json\"},\n            body: JSON.stringify({city:query})\n         }\n\n    if (!query){\n        alert(\"please enter a city\");\n    }\n    else{\n        try{\n            const response =  await fetch('/api/search', requestOptions);\n            const result =  await response.json();\n           if(result[1]===null){\n            alert(\"city not recognised, please enter a valid city\")\n           }\n           else{\n            setImageData(result[0]);\n            setWeatherData(result[1]);\n            setForecastData(result[2]);\n           }\n         }\n         catch(err){\n            console.log(err);\n         }\n    }\n        \n      setQuery(\"\")\n       }\n  \n\n    return (\n        <div className=\"searchBarContainer\">\n        <form className=\"searchInput\" onSubmit={handleSubmit} >\n        <input type=\"search\" className=\"searchBar\" placeholder=\"Find Your City's Weather\" onChange={(e)=>setQuery(e.target.value)} value={query} />\n        <button type=\"submit\" className=\"searchButton\"><FontAwesomeIcon icon={faMagnifyingGlass}/></button>\n        </form>\n        </div>\n    )\n};\n\n\n<i class=\"fa-solid fa-magnifying-glass\"></i>\nexport default SearchBar"],"mappings":"6YAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,iBAAT,KAAkC,mCAAlC,C,wFAIA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAmD,IAAjDC,eAAiD,MAAjDA,cAAiD,CAAjCC,eAAiC,MAAjCA,eAAiC,CAAhBC,YAAgB,MAAhBA,YAAgB,CACjE,cAAyBN,QAAQ,CAAC,EAAD,CAAjC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,GAAOC,aAAY,6FAAI,iBAAOC,CAAP,uJACnBA,CAAC,CAACC,cAAF,GAEMC,cAHa,CAGI,CACnBC,MAAM,CAAC,MADY,CAEpBC,OAAO,CAAC,CAAC,eAAgB,kBAAjB,CAFY,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACC,IAAI,CAACX,KAAN,CAAf,CAHa,CAHJ,IASlBA,KATkB,yBAUnBY,KAAK,CAAC,qBAAD,CAAL,CAVmB,oEAcSC,MAAK,CAAC,aAAD,CAAgBR,cAAhB,CAdd,QAcTS,QAdS,sCAeOA,SAAQ,CAACC,IAAT,EAfP,SAeTC,MAfS,eAgBhB,GAAGA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAf,CAAoB,CACnBJ,KAAK,CAAC,gDAAD,CAAL,CACA,CAFD,IAGI,CACHb,YAAY,CAACiB,MAAM,CAAC,CAAD,CAAP,CAAZ,CACAnB,cAAc,CAACmB,MAAM,CAAC,CAAD,CAAP,CAAd,CACAlB,eAAe,CAACkB,MAAM,CAAC,CAAD,CAAP,CAAf,CACA,CAvBe,iFA0BfC,OAAO,CAACC,GAAR,cA1Be,QA8BrBjB,QAAQ,CAAC,EAAD,CAAR,CA9BqB,qEAAJ,kBAAZC,aAAY,6CAAnB,CAkCA,mBACI,YAAK,SAAS,CAAC,oBAAf,uBACA,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEA,YAAxC,wBACA,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,WAA/B,CAA2C,WAAW,CAAC,0BAAvD,CAAkF,QAAQ,CAAE,kBAACC,CAAD,QAAKF,SAAQ,CAACE,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAb,EAA5F,CAA2H,KAAK,CAAEpB,KAAlI,EADA,cAEA,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,uBAA+C,KAAC,eAAD,EAAiB,IAAI,CAAEL,iBAAvB,EAA/C,EAFA,GADA,EADJ,CAQH,CA7CD,CAgDA,uBAAG,KAAK,CAAC,8BAAT,GACA,cAAeC,UAAf"},"metadata":{},"sourceType":"module"}