{"ast":null,"code":"import _slicedToArray from\"/Users/Zach/Desktop/WeatherD_v2/weatherdb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import SearchBar from\"./components/SearchBar.jsx\";import CurrentWeather from\"./components/CurrentWeather.jsx\";import CreditDetails from\"./components/ImageCredit.jsx\";import SwiperFunction from\"./components/DailyForecast/SwiperPagination.jsx\";import LocalDateAndTime from\"./components/LocalTime.jsx\";import Tabs from\"./components/TabsComponent/Tabs.jsx\";import\"./styles.css\";import useFetch from\"./components/useFetch.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getLocationPromise=function getLocationPromise(){return new Promise(function(resolve,reject){navigator.geolocation.getCurrentPosition(function(position){return resolve(position);},function(error){return reject(error);});});};function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),forecast=_useState2[0],setForecast=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentWeather=_useState4[0],setCurrentWeather=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),location=_useState6[0],setLocation=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),unsplashData=_useState8[0],setUnsplashData=_useState8[1];// requests users current location\nuseEffect(function(){getLocationPromise().then(setLocation);},[]);//makes unsplashImage API call\nuseFetch(location,\"/api/unsplashImages\",setUnsplashData);// handles background image setting\nuseEffect(function(){var bgImage=document.querySelector(\".backgroundImg\");if(!unsplashData){bgImage.style.backgroundImage='url(\"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\")';}else{bgImage.style.backgroundImage=\"url(\".concat(unsplashData[\"display_urls\"][\"full\"],\")\");}},[unsplashData]);// requests current weather Data\nuseFetch(location,\"/api/currentWeather\",setCurrentWeather);// request five days of forecast\nuseFetch(location,\"/api/fiveDayForecast\",setForecast);return/*#__PURE__*/_jsx(\"div\",{className:\"backgroundImg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imageOverlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(SearchBar,{setWeatherData:setCurrentWeather,setForecastData:setForecast,setImageData:setUnsplashData}),/*#__PURE__*/_jsx(LocalDateAndTime,{}),/*#__PURE__*/_jsx(CurrentWeather,{currentWeather:currentWeather}),/*#__PURE__*/_jsx(SwiperFunction,{forecasts:forecast}),/*#__PURE__*/_jsx(Tabs,{forecasts:forecast}),/*#__PURE__*/_jsx(CreditDetails,{photographerDetails:unsplashData})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","SearchBar","CurrentWeather","CreditDetails","SwiperFunction","LocalDateAndTime","Tabs","useFetch","getLocationPromise","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","error","App","forecast","setForecast","currentWeather","setCurrentWeather","location","setLocation","unsplashData","setUnsplashData","then","bgImage","document","querySelector","style","backgroundImage"],"sources":["/Users/Zach/Desktop/WeatherD_v2/weatherdb/src/App.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport SearchBar from \"./components/SearchBar.jsx\";\nimport CurrentWeather from \"./components/CurrentWeather.jsx\";\nimport CreditDetails from \"./components/ImageCredit.jsx\";\nimport SwiperFunction from \"./components/DailyForecast/SwiperPagination.jsx\";\nimport LocalDateAndTime from \"./components/LocalTime.jsx\";\nimport Tabs from \"./components/TabsComponent/Tabs.jsx\";\nimport \"./styles.css\"\nimport useFetch from \"./components/useFetch.js\";\n\n\n\nconst getLocationPromise = ()=>{\n  return new Promise(function(resolve,reject){\n    navigator.geolocation.getCurrentPosition(\n      position=>resolve(position),\n      error=>reject(error)\n    )\n  })\n  }\n\n\n\nfunction App() {\n  const [forecast, setForecast]= useState();\n  const [currentWeather,setCurrentWeather]=useState();\n  const [location, setLocation]=useState();\n  const [unsplashData, setUnsplashData]=useState();\n\n// requests users current location\nuseEffect(()=>{\n  getLocationPromise()\n  .then(setLocation)\n},[])\n\n//makes unsplashImage API call\nuseFetch(location, \"/api/unsplashImages\", setUnsplashData)\n// handles background image setting\nuseEffect(()=>{\nconst bgImage=document.querySelector(\".backgroundImg\")\n\n  if(!unsplashData){\n    bgImage.style.backgroundImage='url(\"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80\")';\n  }\n  else{\n bgImage.style.backgroundImage=`url(${unsplashData[\"display_urls\"][\"full\"]})`;\n  }\n},[unsplashData])\n\n// requests current weather Data\nuseFetch(location, \"/api/currentWeather\", setCurrentWeather);\n\n\n// request five days of forecast\nuseFetch(location,\"/api/fiveDayForecast\", setForecast)\n\n\n  return (\n    <div className=\"backgroundImg\">\n    <div className=\"imageOverlay\">\n <div className=\"container\">\n<SearchBar setWeatherData={setCurrentWeather} setForecastData={setForecast} setImageData={setUnsplashData}/>\n<LocalDateAndTime />\n<CurrentWeather currentWeather={currentWeather}/>\n<SwiperFunction forecasts={forecast} />\n<Tabs forecasts={forecast} />\n<CreditDetails photographerDetails={unsplashData} />\n</div>\n </div>\n </div>\n  );\n}\n\nexport default App;\n"],"mappings":"+HAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,UAAP,KAAsB,4BAAtB,CACA,MAAOC,eAAP,KAA2B,iCAA3B,CACA,MAAOC,cAAP,KAA0B,8BAA1B,CACA,MAAOC,eAAP,KAA2B,iDAA3B,CACA,MAAOC,iBAAP,KAA6B,4BAA7B,CACA,MAAOC,KAAP,KAAiB,qCAAjB,CACA,MAAO,cAAP,CACA,MAAOC,SAAP,KAAqB,0BAArB,C,wFAIA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,EAAI,CAC7B,MAAO,IAAIC,QAAJ,CAAY,SAASC,OAAT,CAAiBC,MAAjB,CAAwB,CACzCC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACE,SAAAC,QAAQ,QAAEL,QAAO,CAACK,QAAD,CAAT,EADV,CAEE,SAAAC,KAAK,QAAEL,OAAM,CAACK,KAAD,CAAR,EAFP,EAID,CALM,CAAP,CAMC,CAPH,CAWA,QAASC,IAAT,EAAe,CACb,cAA+BlB,QAAQ,EAAvC,wCAAOmB,QAAP,eAAiBC,WAAjB,eACA,eAAyCpB,QAAQ,EAAjD,yCAAOqB,cAAP,eAAsBC,iBAAtB,eACA,eAA8BtB,QAAQ,EAAtC,yCAAOuB,QAAP,eAAiBC,WAAjB,eACA,eAAsCxB,QAAQ,EAA9C,yCAAOyB,YAAP,eAAqBC,eAArB,eAEF;AACAzB,SAAS,CAAC,UAAI,CACZQ,kBAAkB,GACjBkB,IADD,CACMH,WADN,EAED,CAHQ,CAGP,EAHO,CAAT,CAKA;AACAhB,QAAQ,CAACe,QAAD,CAAW,qBAAX,CAAkCG,eAAlC,CAAR,CACA;AACAzB,SAAS,CAAC,UAAI,CACd,GAAM2B,QAAO,CAACC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAd,CAEE,GAAG,CAACL,YAAJ,CAAiB,CACfG,OAAO,CAACG,KAAR,CAAcC,eAAd,CAA8B,uKAA9B,CACD,CAFD,IAGI,CACLJ,OAAO,CAACG,KAAR,CAAcC,eAAd,eAAqCP,YAAY,CAAC,cAAD,CAAZ,CAA6B,MAA7B,CAArC,MACE,CACF,CATQ,CASP,CAACA,YAAD,CATO,CAAT,CAWA;AACAjB,QAAQ,CAACe,QAAD,CAAW,qBAAX,CAAkCD,iBAAlC,CAAR,CAGA;AACAd,QAAQ,CAACe,QAAD,CAAU,sBAAV,CAAkCH,WAAlC,CAAR,CAGE,mBACE,YAAK,SAAS,CAAC,eAAf,uBACA,YAAK,SAAS,CAAC,cAAf,uBACH,aAAK,SAAS,CAAC,WAAf,wBACD,KAAC,SAAD,EAAW,cAAc,CAAEE,iBAA3B,CAA8C,eAAe,CAAEF,WAA/D,CAA4E,YAAY,CAAEM,eAA1F,EADC,cAED,KAAC,gBAAD,IAFC,cAGD,KAAC,cAAD,EAAgB,cAAc,CAAEL,cAAhC,EAHC,cAID,KAAC,cAAD,EAAgB,SAAS,CAAEF,QAA3B,EAJC,cAKD,KAAC,IAAD,EAAM,SAAS,CAAEA,QAAjB,EALC,cAMD,KAAC,aAAD,EAAe,mBAAmB,CAAEM,YAApC,EANC,GADG,EADA,EADF,CAcD,CAED,cAAeP,IAAf"},"metadata":{},"sourceType":"module"}