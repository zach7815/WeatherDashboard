{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nexport function getLocationPromise() {\n  return new Promise(function (resolve, reject) {\n    navigator.geolocation.getCurrentPosition(position => resolve(position), error => reject(error));\n  });\n}\nexport function CallAPIs(urlsArray, setFuncArray, locationFunction, location) {\n  _s();\n\n  useEffect(() => {\n    setFuncArray[0](true);\n    locationFunction() //setLocation\n    .then(setFuncArray[1](location)).then(location => {\n      const {\n        latitude: lat,\n        longitude: lng\n      } = location[\"coords\"];\n      const requestOptions = {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          lat: lat,\n          lng: lng\n        })\n      };\n      Promise.all([fetch(urlsArray[0], requestOptions), fetch(urlsArray[1], requestOptions), fetch(urlsArray[2], requestOptions)]).then(results => {\n        return Promise.all(results.map(r => r.json()));\n      }).then(dataArray => {\n        console.log(setFuncArray);\n        setFuncArray[2](dataArray[0]);\n        setFuncArray[3](dataArray[1]);\n        setFuncArray[4](dataArray[2]);\n        setFuncArray[0](false);\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n  }, []);\n}\n\n_s(CallAPIs, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = CallAPIs;\n\nvar _c;\n\n$RefreshReg$(_c, \"CallAPIs\");","map":{"version":3,"names":["useEffect","getLocationPromise","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","error","CallAPIs","urlsArray","setFuncArray","locationFunction","location","then","latitude","lat","longitude","lng","requestOptions","method","mode","headers","body","JSON","stringify","all","fetch","results","map","r","json","dataArray","console","log","catch"],"sources":["/Users/Zach/Desktop/WeatherDashboard-Frontend/WeatherDashboard-Frontend/FrontEnd/src/components/APIRequests.js"],"sourcesContent":["import {useEffect } from \"react\";\n\n\nexport  function getLocationPromise(){\n    return new Promise(function(resolve,reject){\n      navigator.geolocation.getCurrentPosition(\n        position=>resolve(position),\n        error=>reject(error)\n      )\n    })\n    }\n\nexport  function CallAPIs(urlsArray, setFuncArray,\n locationFunction, location){\n\nuseEffect(()=>{\n    setFuncArray[0](true);\n    locationFunction()\n    //setLocation\n    .then(setFuncArray[1](location))\n    .then(location=>{\n        const {latitude:lat, longitude:lng}=location[\"coords\"];\n        const requestOptions = {\n            method:'POST',\n             mode:'cors',\n           headers:{\"Content-Type\": \"application/json\"},\n            body: JSON.stringify({lat:lat, lng:lng})\n         }\n\n         Promise.all([\n            fetch(urlsArray[0],requestOptions),\n            fetch(urlsArray[1],requestOptions),\n            fetch(urlsArray[2],requestOptions),\n        ])\n        .then((results)=>{\n            return Promise.all(results.map(r=>r.json()))\n            })\n            .then((dataArray)=>{\n                console.log(setFuncArray)\n               setFuncArray[2](dataArray[0]);\n               setFuncArray[3](dataArray[1]);\n               setFuncArray[4](dataArray[2]);\n               setFuncArray[0](false)\n            }).catch(error=>{console.log(error)})\n\n\n    })\n\n\n\n\n\n\n\n},[])\n\n}\n\n\n"],"mappings":";;AAAA,SAAQA,SAAR,QAAyB,OAAzB;AAGA,OAAQ,SAASC,kBAAT,GAA6B;EACjC,OAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAiBC,MAAjB,EAAwB;IACzCC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACEC,QAAQ,IAAEL,OAAO,CAACK,QAAD,CADnB,EAEEC,KAAK,IAAEL,MAAM,CAACK,KAAD,CAFf;EAID,CALM,CAAP;AAMC;AAEL,OAAQ,SAASC,QAAT,CAAkBC,SAAlB,EAA6BC,YAA7B,EACPC,gBADO,EACWC,QADX,EACoB;EAAA;;EAE5Bd,SAAS,CAAC,MAAI;IACVY,YAAY,CAAC,CAAD,CAAZ,CAAgB,IAAhB;IACAC,gBAAgB,GAChB;IADgB,CAEfE,IAFD,CAEMH,YAAY,CAAC,CAAD,CAAZ,CAAgBE,QAAhB,CAFN,EAGCC,IAHD,CAGMD,QAAQ,IAAE;MACZ,MAAM;QAACE,QAAQ,EAACC,GAAV;QAAeC,SAAS,EAACC;MAAzB,IAA8BL,QAAQ,CAAC,QAAD,CAA5C;MACA,MAAMM,cAAc,GAAG;QACnBC,MAAM,EAAC,MADY;QAElBC,IAAI,EAAC,MAFa;QAGpBC,OAAO,EAAC;UAAC,gBAAgB;QAAjB,CAHY;QAInBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UAACT,GAAG,EAACA,GAAL;UAAUE,GAAG,EAACA;QAAd,CAAf;MAJa,CAAvB;MAOCjB,OAAO,CAACyB,GAAR,CAAY,CACTC,KAAK,CAACjB,SAAS,CAAC,CAAD,CAAV,EAAcS,cAAd,CADI,EAETQ,KAAK,CAACjB,SAAS,CAAC,CAAD,CAAV,EAAcS,cAAd,CAFI,EAGTQ,KAAK,CAACjB,SAAS,CAAC,CAAD,CAAV,EAAcS,cAAd,CAHI,CAAZ,EAKAL,IALA,CAKMc,OAAD,IAAW;QACb,OAAO3B,OAAO,CAACyB,GAAR,CAAYE,OAAO,CAACC,GAAR,CAAYC,CAAC,IAAEA,CAAC,CAACC,IAAF,EAAf,CAAZ,CAAP;MACC,CAPJ,EAQIjB,IARJ,CAQUkB,SAAD,IAAa;QACfC,OAAO,CAACC,GAAR,CAAYvB,YAAZ;QACDA,YAAY,CAAC,CAAD,CAAZ,CAAgBqB,SAAS,CAAC,CAAD,CAAzB;QACArB,YAAY,CAAC,CAAD,CAAZ,CAAgBqB,SAAS,CAAC,CAAD,CAAzB;QACArB,YAAY,CAAC,CAAD,CAAZ,CAAgBqB,SAAS,CAAC,CAAD,CAAzB;QACArB,YAAY,CAAC,CAAD,CAAZ,CAAgB,KAAhB;MACF,CAdJ,EAcMwB,KAdN,CAcY3B,KAAK,IAAE;QAACyB,OAAO,CAACC,GAAR,CAAY1B,KAAZ;MAAmB,CAdvC;IAiBJ,CA7BD;EAqCH,CAvCQ,EAuCP,EAvCO,CAAT;AAyCC;;GA5CgBC,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}