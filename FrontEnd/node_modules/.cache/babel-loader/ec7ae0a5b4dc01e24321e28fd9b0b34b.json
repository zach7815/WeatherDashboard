{"ast":null,"code":"import { useEffect } from \"react\"; // '/api/unsplashImages'\n// '/api/currentWeather'\n\nconst useFetch = async (location, api, setFunction) => {\n  if (!location) {\n    console.log(\"position not granted\");\n  } else {\n    const {\n      latitude: lat,\n      longitude: lng\n    } = location[\"coords\"];\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        lat: lat,\n        lng: lng\n      })\n    };\n\n    try {\n      const response = await fetch(api, requestOptions);\n      const result = await response.json();\n      setFunction(result);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n\nexport default useFetch;","map":{"version":3,"names":["useEffect","useFetch","location","api","setFunction","console","log","latitude","lat","longitude","lng","requestOptions","method","headers","body","JSON","stringify","response","fetch","result","json","error"],"sources":["/Users/Zach/Desktop/WeatherD_v2/weatherdb/src/components/useFetch.js"],"sourcesContent":["import {useEffect} from \"react\";\n\n// '/api/unsplashImages'\n// '/api/currentWeather'\n\n\nconst useFetch = async (location, api,setFunction)=>{\n        if(!location){\n            console.log(\"position not granted\");\n          }\n          else{\n           const {latitude:lat, longitude:lng}=location[\"coords\"];\n          \n           const requestOptions = {\n              method:'POST',\n             headers:{\"Content-Type\": \"application/json\"},\n              body: JSON.stringify({lat:lat, lng:lng})\n           }\n          \n        try{\n          const response = await fetch(api,requestOptions);\n          const result = await response.json()\n          setFunction(result)\n        }\n          catch(error){console.log(error);}    \n          }  \n  }\n\n  export default useFetch"],"mappings":"AAAA,SAAQA,SAAR,QAAwB,OAAxB,C,CAEA;AACA;;AAGA,MAAMC,QAAQ,GAAG,OAAOC,QAAP,EAAiBC,GAAjB,EAAqBC,WAArB,KAAmC;EAC5C,IAAG,CAACF,QAAJ,EAAa;IACTG,OAAO,CAACC,GAAR,CAAY,sBAAZ;EACD,CAFH,MAGM;IACH,MAAM;MAACC,QAAQ,EAACC,GAAV;MAAeC,SAAS,EAACC;IAAzB,IAA8BR,QAAQ,CAAC,QAAD,CAA5C;IAEA,MAAMS,cAAc,GAAG;MACpBC,MAAM,EAAC,MADa;MAErBC,OAAO,EAAC;QAAC,gBAAgB;MAAjB,CAFa;MAGpBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAACR,GAAG,EAACA,GAAL;QAAUE,GAAG,EAACA;MAAd,CAAf;IAHc,CAAvB;;IAMH,IAAG;MACD,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACf,GAAD,EAAKQ,cAAL,CAA5B;MACA,MAAMQ,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;MACAhB,WAAW,CAACe,MAAD,CAAX;IACD,CAJD,CAKE,OAAME,KAAN,EAAY;MAAChB,OAAO,CAACC,GAAR,CAAYe,KAAZ;IAAoB;EAChC;AACR,CApBH;;AAsBE,eAAepB,QAAf"},"metadata":{},"sourceType":"module"}